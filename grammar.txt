//Especifica��o da Gram�tica para o Projeto de Compiladores
//Grupo: 	JAIR KLEYTON DA SILVA NUNES
//	 	NATANAEL MACEDO DA SILVA JUNIOR

Package compilador;

Helpers
	todos 			= [' ' + [39 .. 127]];
	minusculas		= ['a' .. 'z'];
	maiusculas 		= ['A' .. 'Z'];
	letra			= minusculas | maiusculas;
	digito			= ['0' .. '9'];
	inteiro			= '-'? digito+;
	real 			= '-'? digito+ '.' digito+;
	numero			= inteiro | real;
	tab			= 9;
	lf			= 10; // Line Feed
	cr 			= 13; // Carriage Return
	caractere 		= ''' letra | digito | [todos - [cr + lf]] ''';
	eol			= cr | lf | cr lf;
	comentario_linha= '//' todos* eol;

States
	normal,
	comment;
	
Tokens
	
	// separadores
	{normal} ponto		= '.';
	{normal} dois_pontos	= ':';
	{normal} virgula 	= ',';
	{normal} ponto_virgula	= ';';
	{normal} barra		= '|';
	{normal} e_parentese 	= '(';
	{normal} d_parentese 	= ')';
	{normal} e_colchete 	= '[';
	{normal} d_colchete 	= ']';
	{normal} e_chave 	= '{';
	{normal} d_chave	= '}';
		
	// operadores
	{normal} mais 		= '+';
	{normal} menos 		= '-';
	{normal} multiplicacao 	= '*';
	{normal} divisao 	= '/';
	porcentagem 	= '%';
	resto 			= 'resto';
	{normal} atribuicao	= '<-';
	
	{normal} igual 		= '=';
	{normal} diferente 	= '<>';	
	{normal} maior_q	= '>';
	{normal} menor_q 	= '<';
	{normal} maior_igual	= '>=';
	{normal} menor_igual	= '<=';
		
	{normal} e		= 'e';
	{normal} ou		= 'ou';
	{normal} nao		= 'nao';
	{normal} eou     	= 'eou';
		
	// palavras reservadas
	{normal} programa 	= 'programa';
	{normal} inicio 	= 'inicio';
	{normal} fim 		= 'fim.';
	
	{normal} inteiro	= 'inteiro';
	{normal} real		= 'real';
	{normal} caractere	= 'caractere';
	
	{normal} escreva 	= 'escreva';
	{normal} leia		= 'leia';
	
	{normal} se 		= 'se';
	{normal} entao 		= 'entao';
	{normal} senao 		= 'senao';
	{normal} fim_se		= 'fim se';
	
	{normal} enquanto 		= 'enquanto';
	{normal} faca 			= 'faca';
	{normal} fim_enquanto 	= 'fim enquanto';
	
	{normal} para 		= 'para';
	{normal} de		= 'de';
	{normal} passo		= 'passo';	
	{normal} fim_para 	= 'fim para';
	
	{normal} caso 		= 'caso';
	{normal} fim_avalie	= 'fim avalie';
	{normal} repita 		= 'repita';
	{normal} ate 			= 'ate';
	{normal} fim_repita		= 'fim repita';
	{normal} interromper	= 'interromper';
	
	retorne 		= 'retorne';
	pacote			= 'pacote';
	nulo			= 'nulo';
	
	// identificadores
	tipo 			= numero | caractere;
	{normal} var	= id | id '[' digito+ ']';
		
	// espa�o em braco e comentarios	
	{normal} blank 	= (' ' | tab | eol )*;
	
	{normal -> comment, comment}
					comment = '/*';
	{comment} comment_fim 	= '*/';
	{comment} comment_corpo = [todos - ['*' + '/']]*;
	{comment} estrela 		= '*';
	{comment} barra 		= '/';	
	
	comentario	= '//' todos* eol;
	
Ignored Tokens
	blank,
	comentario;
	
Productions
	expr 		= {fator} fator
				| {mais} expr mais fator
				| {menos} expr menos fator;

	fator 		= {termo} termo
				| {multiplicacao} fator multiplicacao termo
				| {divisao} fator divisao termo
				| {resto} fator resto termo;

	termo 		= {inteiro} inteiro
				| {expr} e_parentese expr d_parentese;
